<?php

namespace {{ namespace }}\Tests\Controller{{ entity_namespace ? '\\' ~ entity_namespace : '' }};

{% block use_statements %}
use BDG\DatabaseBundle\Tests\Controller\InterfaceControllerTest;
use BDG\DatabaseBundle\Tests\Controller\ModelControllerTest;
{% endblock use_statements %}

{% block class_definition %}
class {{ test_class }} extends ModelControllerTest  implements InterfaceControllerTest 
{% endblock class_definition %}
{
{% block class_body %}
    public function setUp(){
        $this->entity = "{{ entity_class }}";
        $this->bundle = "{{ bundle }}";
        parent::setUp();    
    }

    public function testloadData()   { parent::testloadData();  }

    public function testNewScenario()
    {
        $crawler = $this->client->request('GET', $this->url_new);
        $form = $crawler->selectButton('Ajouter')->form(array(
{%- for field in fields %}
            
            '{{ frm_namespace }}_{{ entity_class|lower }}[{{ field }}]' => NULL,

{%- endfor %}


            // fields ManyToOne

{%- for field in fieldsManyToOne %}

                //  'bdg_databasebundle_{{ entity_class|lower }}[{{ field }}]' => NULL,

{%- endfor %}

            // fields OneToMany

{%- for field in fieldsOneToMany %}

               //  'bdg_databasebundle_{{ entity_class|lower }}[ {{ field }} ]' => NULL,

{%- endfor %}
         
        ));
        parent::testNewScenario($form, $crawler);

    }

    public function testUpdateScenario()   { parent::testUpdateScenario();  }
    public function testShowHtmlScenario() { parent::testShowHtmlScenario(); }
    public function testShowJsonScenario() { parent::testShowJsonScenario(); }
    public function testShowOneScenario()  { parent::testShowOneScenario(); }
    public function testDeleteScenario()   { parent::testDeleteScenario(); }

{% endblock class_body %}
}

