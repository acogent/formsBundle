<?php

namespace {{ namespace }}\Tests\Fixtures\Entity{{ entity_namespace ? '\\' ~ entity_namespace : '' }};

{% block use_statements %}
use Doctrine\Common\DataFixtures\FixtureInterface;
use Doctrine\Common\Persistence\ObjectManager;
use {{namespace}}\Entity\{{ entity_class }};
{% endblock use_statements %}

{% block class_definition %}
class {{ fixture_class }}  implements FixtureInterface 
{% endblock class_definition %}
{
{% block class_body %}
    
    static public ${{ entity_class }}s = array();

    public function load(ObjectManager $manager)
    {
        ${{ entity_class }}1 = new {{ entity_class }}();
       
{%- for field in fields %}
            
        ${{ entity_class }}1->set{{field[:1]|capitalize}}{{field[1:]}}(NULL);

{%- endfor %}


        $manager->persist(${{ entity_class }}1);
        $manager->flush();
        
        self::${{ entity_class }}s[] = ${{ entity_class }}1;
    }
{% endblock class_body %}
}

